<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„Ø¹Ø¨Ø© Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø£Ø¹Ù„Ø§Ù… Ø§Ù„Ø¯ÙˆÙ„</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: white;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            width: 100%;
            text-align: center;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            margin-top: 20px;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: #FFD700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .game-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-size: 1.2rem;
            background: rgba(255, 255, 255, 0.1);
            padding: 10px 20px;
            border-radius: 10px;
        }
        
        .flag-container {
            height: 200px;
            margin: 20px 0;
            display: flex;
            justify-content: center;
            align-items: center;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }
        
        .flag {
            height: 150px;
            width: auto;
            max-width: 250px;
            border: 2px solid white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: opacity 0.3s ease;
        }
        
        .flag.hidden {
            opacity: 0;
        }
        
        .question-mark {
            font-size: 5rem;
            color: rgba(255, 255, 255, 0.5);
        }
        
        .options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }
        
        .option {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            padding: 15px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .option:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
        }
        
        .correct {
            background: rgba(0, 200, 0, 0.7);
            border-color: #00FF00;
        }
        
        .incorrect {
            background: rgba(255, 0, 0, 0.7);
            border-color: #FF0000;
        }
        
        .controls {
            margin-top: 20px;
        }
        
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 0 10px;
        }
        
        button:hover {
            background: #45a049;
            transform: scale(1.05);
        }
        
        #next-btn {
            background: #2196F3;
        }
        
        #next-btn:hover {
            background: #0b7dda;
        }
        
        .timer {
            font-size: 1.5rem;
            margin: 10px 0;
            color: #FFD700;
        }
        
        .result {
            font-size: 1.3rem;
            margin: 15px 0;
            min-height: 30px;
        }
        
        .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: #4CAF50;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        @media (max-width: 600px) {
            .options-container {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .flag {
                height: 120px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Ù„Ø¹Ø¨Ø© Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø£Ø¹Ù„Ø§Ù… Ø§Ù„Ø¯ÙˆÙ„</h1>
        
        <div class="game-info">
            <div>Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="score">0</span></div>
            <div>Ø§Ù„Ø³Ø¤Ø§Ù„: <span id="question-count">1</span>/10</div>
        </div>
        
        <div class="progress-bar">
            <div class="progress" id="progress"></div>
        </div>
        
        <div class="flag-container">
            <img id="flag" class="flag hidden" src="" alt="Ø¹Ù„Ù… Ø§Ù„Ø¯ÙˆÙ„Ø©">
            <div id="question-mark" class="question-mark">?</div>
        </div>
        
        <div class="timer" id="timer">1</div>
        
        <div class="result" id="result"></div>
        
        <div class="options-container" id="options-container">
            <!-- Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
        </div>
        
        <div class="controls">
            <button id="start-btn">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
            <button id="next-btn" style="display: none;">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ</button>
        </div>
    </div>

    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯ÙˆÙ„ ÙˆØ£Ø¹Ù„Ø§Ù…Ù‡Ø§ (Ø±Ù…ÙˆØ² Ø£Ø¹Ù„Ø§Ù… Ø­Ù‚ÙŠÙ‚ÙŠØ©)
        const countries = [
            { name: "Ù…ØµØ±", flag: "https://flagcdn.com/w320/eg.png" },
            { name: "Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©", flag: "https://flagcdn.com/w320/sa.png" },
            { name: "Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª", flag: "https://flagcdn.com/w320/ae.png" },
            { name: "Ø§Ù„ÙƒÙˆÙŠØª", flag: "https://flagcdn.com/w320/kw.png" },
            { name: "Ù‚Ø·Ø±", flag: "https://flagcdn.com/w320/qa.png" },
            { name: "Ø¹Ù…Ø§Ù†", flag: "https://flagcdn.com/w320/om.png" },
            { name: "Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†", flag: "https://flagcdn.com/w320/bh.png" },
            { name: "Ø§Ù„Ø£Ø±Ø¯Ù†", flag: "https://flagcdn.com/w320/jo.png" },
            { name: "Ù„Ø¨Ù†Ø§Ù†", flag: "https://flagcdn.com/w320/lb.png" },
            { name: "Ø³ÙˆØ±ÙŠØ§", flag: "https://flagcdn.com/w320/sy.png" },
            { name: "Ø§Ù„Ø¹Ø±Ø§Ù‚", flag: "https://flagcdn.com/w320/iq.png" },
            { name: "Ø§Ù„ÙŠÙ…Ù†", flag: "https://flagcdn.com/w320/ye.png" },
            { name: "Ù„ÙŠØ¨ÙŠØ§", flag: "https://flagcdn.com/w320/ly.png" },
            { name: "ØªÙˆÙ†Ø³", flag: "https://flagcdn.com/w320/tn.png" },
            { name: "Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±", flag: "https://flagcdn.com/w320/dz.png" },
            { name: "Ø§Ù„Ù…ØºØ±Ø¨", flag: "https://flagcdn.com/w320/ma.png" },
            { name: "Ø§Ù„Ø³ÙˆØ¯Ø§Ù†", flag: "https://flagcdn.com/w320/sd.png" },
            { name: "Ø§Ù„ØµÙˆÙ…Ø§Ù„", flag: "https://flagcdn.com/w320/so.png" },
            { name: "Ø¬ÙŠØ¨ÙˆØªÙŠ", flag: "https://flagcdn.com/w320/dj.png" },
            { name: "Ù…ÙˆØ±ÙŠØªØ§Ù†ÙŠØ§", flag: "https://flagcdn.com/w320/mr.png" },
            { name: "ÙÙ„Ø³Ø·ÙŠÙ†", flag: "https://flagcdn.com/w320/ps.png" },
            { name: "Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ù…ØªØ­Ø¯Ø©", flag: "https://flagcdn.com/w320/us.png" },
            { name: "Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ù…ØªØ­Ø¯Ø©", flag: "https://flagcdn.com/w320/gb.png" },
            { name: "ÙØ±Ù†Ø³Ø§", flag: "https://flagcdn.com/w320/fr.png" },
            { name: "Ø£Ù„Ù…Ø§Ù†ÙŠØ§", flag: "https://flagcdn.com/w320/de.png" },
            { name: "Ø¥ÙŠØ·Ø§Ù„ÙŠØ§", flag: "https://flagcdn.com/w320/it.png" },
            { name: "Ø¥Ø³Ø¨Ø§Ù†ÙŠØ§", flag: "https://flagcdn.com/w320/es.png" },
            { name: "Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„", flag: "https://flagcdn.com/w320/br.png" },
            { name: "Ø§Ù„Ø£Ø±Ø¬Ù†ØªÙŠÙ†", flag: "https://flagcdn.com/w320/ar.png" },
            { name: "ÙƒÙ†Ø¯Ø§", flag: "https://flagcdn.com/w320/ca.png" },
            { name: "Ø£Ø³ØªØ±Ø§Ù„ÙŠØ§", flag: "https://flagcdn.com/w320/au.png" },
            { name: "Ø§Ù„ÙŠØ§Ø¨Ø§Ù†", flag: "https://flagcdn.com/w320/jp.png" },
            { name: "Ø§Ù„ØµÙŠÙ†", flag: "https://flagcdn.com/w320/cn.png" },
            { name: "Ø±ÙˆØ³ÙŠØ§", flag: "https://flagcdn.com/w320/ru.png" },
            { name: "Ø§Ù„Ù‡Ù†Ø¯", flag: "https://flagcdn.com/w320/in.png" },
            { name: "ØªØ±ÙƒÙŠØ§", flag: "https://flagcdn.com/w320/tr.png" },
            { name: "Ø¥ÙŠØ±Ø§Ù†", flag: "https://flagcdn.com/w320/ir.png" },
            { name: "Ø¨Ø§ÙƒØ³ØªØ§Ù†", flag: "https://flagcdn.com/w320/pk.png" },
            { name: "Ø£ÙØºØ§Ù†Ø³ØªØ§Ù†", flag: "https://flagcdn.com/w320/af.png" },
            { name: "ÙƒÙˆØ±ÙŠØ§ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ©", flag: "https://flagcdn.com/w320/kr.png" },
            { name: "ÙƒÙˆØ±ÙŠØ§ Ø§Ù„Ø´Ù…Ø§Ù„ÙŠØ©", flag: "https://flagcdn.com/w320/kp.png" },
            { name: "ÙÙ†Ù„Ù†Ø¯Ø§", flag: "https://flagcdn.com/w320/fi.png" },
            { name: "Ø§Ù„Ø³ÙˆÙŠØ¯", flag: "https://flagcdn.com/w320/se.png" },
            { name: "Ø§Ù„Ù†Ø±ÙˆÙŠØ¬", flag: "https://flagcdn.com/w320/no.png" },
            { name: "Ø§Ù„Ø¯Ù†Ù…Ø§Ø±Ùƒ", flag: "https://flagcdn.com/w320/dk.png" },
            { name: "Ù‡ÙˆÙ„Ù†Ø¯Ø§", flag: "https://flagcdn.com/w320/nl.png" },
            { name: "Ø¨Ù„Ø¬ÙŠÙƒØ§", flag: "https://flagcdn.com/w320/be.png" },
            { name: "Ø³ÙˆÙŠØ³Ø±Ø§", flag: "https://flagcdn.com/w320/ch.png" },
            { name: "Ø§Ù„Ù†Ù…Ø³Ø§", flag: "https://flagcdn.com/w320/at.png" },
            { name: "Ø§Ù„ÙŠÙˆÙ†Ø§Ù†", flag: "https://flagcdn.com/w320/gr.png" }
        ];

        // Ø¹Ù†Ø§ØµØ± DOM
        const startBtn = document.getElementById('start-btn');
        const nextBtn = document.getElementById('next-btn');
        const flagElement = document.getElementById('flag');
        const questionMark = document.getElementById('question-mark');
        const optionsContainer = document.getElementById('options-container');
        const resultElement = document.getElementById('result');
        const scoreElement = document.getElementById('score');
        const questionCountElement = document.getElementById('question-count');
        const timerElement = document.getElementById('timer');
        const progressElement = document.getElementById('progress');

        // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
        let currentQuestion = {};
        let score = 0;
        let questionCount = 0;
        let totalQuestions = 10;
        let timer;
        let timerCount = 1;
        let canAnswer = false;
        let flagShown = false;

        // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
        startBtn.addEventListener('click', startGame);

        // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ
        nextBtn.addEventListener('click', () => {
            if (questionCount < totalQuestions) {
                nextQuestion();
            } else {
                endGame();
            }
        });

        // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
        function startGame() {
            score = 0;
            questionCount = 0;
            scoreElement.textContent = score;
            questionCountElement.textContent = `${questionCount + 1}/${totalQuestions}`;
            progressElement.style.width = '0%';
            
            startBtn.style.display = 'none';
            nextBtn.style.display = 'inline-block';
            
            nextQuestion();
        }

        // Ø¥Ù†Ø´Ø§Ø¡ Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯
        function nextQuestion() {
            resetState();
            questionCount++;
            questionCountElement.textContent = `${questionCount}/${totalQuestions}`;
            progressElement.style.width = `${(questionCount / totalQuestions) * 100}%`;
            
            // Ø§Ø®ØªÙŠØ§Ø± Ø¯ÙˆÙ„Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
            const randomIndex = Math.floor(Math.random() * countries.length);
            currentQuestion = countries[randomIndex];
            
            // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
            const options = getRandomOptions(currentQuestion.name);
            options.forEach(option => {
                const button = document.createElement('button');
                button.classList.add('option');
                button.textContent = option;
                button.addEventListener('click', selectAnswer);
                optionsContainer.appendChild(button);
            });
            
            // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¹Ù„Ù… ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø¹Ù„Ø§Ù…Ø© Ø§Ù„Ø§Ø³ØªÙÙ‡Ø§Ù…
            flagElement.classList.add('hidden');
            questionMark.style.display = 'block';
            
            // Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø¤Ù‚Øª Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù„Ù…
            startFlagTimer();
        }

        // Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø¤Ù‚Øª Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù„Ù…
        function startFlagTimer() {
            timerCount = 1;
            timerElement.textContent = timerCount;
            timerElement.style.color = '#FFD700';
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù„Ù… Ù„Ù…Ø¯Ø© Ø«Ø§Ù†ÙŠØ© ÙˆØ§Ø­Ø¯Ø©
            flagElement.src = currentQuestion.flag;
            flagElement.classList.remove('hidden');
            questionMark.style.display = 'none';
            
            timer = setInterval(() => {
                timerCount--;
                timerElement.textContent = timerCount;
                
                if (timerCount <= 0) {
                    clearInterval(timer);
                    // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¹Ù„Ù… Ø¨Ø¹Ø¯ Ø«Ø§Ù†ÙŠØ©
                    flagElement.classList.add('hidden');
                    questionMark.style.display = 'block';
                    timerElement.textContent = 'Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©';
                    timerElement.style.color = '#4CAF50';
                    canAnswer = true;
                }
            }, 1000);
        }

        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø­Ø§Ù„Ø© Ø§Ù„Ø³Ø¤Ø§Ù„
        function resetState() {
            clearInterval(timer);
            resultElement.textContent = '';
            optionsContainer.innerHTML = '';
            canAnswer = false;
            flagShown = false;
            timerCount = 1;
            timerElement.textContent = timerCount;
            timerElement.style.color = '#FFD700';
        }

        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø®ÙŠØ§Ø±Ø§Øª Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
        function getRandomOptions(correctAnswer) {
            const options = [correctAnswer];
            
            // Ø¥Ø¶Ø§ÙØ© 3 Ø®ÙŠØ§Ø±Ø§Øª Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ø£Ø®Ø±Ù‰
            while (options.length < 4) {
                const randomIndex = Math.floor(Math.random() * countries.length);
                const randomCountry = countries[randomIndex].name;
                
                if (!options.includes(randomCountry)) {
                    options.push(randomCountry);
                }
            }
            
            // Ø®Ù„Ø· Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
            return shuffleArray(options);
        }

        // Ø®Ù„Ø· Ø§Ù„Ù…ØµÙÙˆÙØ©
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
        function selectAnswer(e) {
            if (!canAnswer) return;
            
            const selectedOption = e.target;
            const correct = selectedOption.textContent === currentQuestion.name;
            
            if (correct) {
                selectedOption.classList.add('correct');
                resultElement.textContent = 'Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©!';
                resultElement.style.color = '#4CAF50';
                score++;
                scoreElement.textContent = score;
            } else {
                selectedOption.classList.add('incorrect');
                resultElement.textContent = `Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©! Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: ${currentQuestion.name}`;
                resultElement.style.color = '#FF5252';
                
                // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©
                Array.from(optionsContainer.children).forEach(button => {
                    if (button.textContent === currentQuestion.name) {
                        button.classList.add('correct');
                    }
                });
            }
            
            canAnswer = false;
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¹Ù„Ù… Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
            flagElement.classList.remove('hidden');
            questionMark.style.display = 'none';
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø²Ø± Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ Ø¨Ø¹Ø¯ ØªØ£Ø®ÙŠØ±
            setTimeout(() => {
                nextBtn.style.display = 'inline-block';
            }, 1000);
        }

        // Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
        function endGame() {
            flagElement.classList.add('hidden');
            questionMark.style.display = 'block';
            questionMark.textContent = 'ğŸ';
            resultElement.innerHTML = `
                <h2>Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©!</h2>
                <p>Ù†Ù‚Ø§Ø·Ùƒ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: ${score}/${totalQuestions}</p>
                <p>${score >= totalQuestions / 2 ? 'Ø£Ø­Ø³Ù†Øª! Ø£Ø¯Ø§Ø¡ Ø±Ø§Ø¦Ø¹.' : 'Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„ØªØ­Ø³ÙŠÙ† Ù†ØªÙŠØ¬ØªÙƒ.'}</p>
            `;
            optionsContainer.innerHTML = '';
            nextBtn.style.display = 'none';
            startBtn.style.display = 'inline-block';
            startBtn.textContent = 'Ø§Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰';
            timerElement.textContent = '';
        }
    </script>
</body>
</html>
